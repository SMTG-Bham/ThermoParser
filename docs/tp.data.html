

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>tp.data package &mdash; ThermoPlotter 0.3.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tp.plot package" href="tp.plot.html" />
    <link rel="prev" title="tp.axes package" href="tp.axes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="contents.html" class="icon icon-home"> ThermoPlotter
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#contributing">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#testing">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#contributors">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#license">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#requirements">Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Python Package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tp.html">tp package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="tp.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="tp.axes.html">tp.axes package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">tp.data package</a></li>
<li class="toctree-l4"><a class="reference internal" href="tp.plot.html">tp.plot package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tp.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="tp.html#module-tp.calculate">tp.calculate module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tp.html#module-tp.settings">tp.settings module</a></li>
<li class="toctree-l3"><a class="reference internal" href="tp.html#module-tp">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="contents.html">ThermoPlotter</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="contents.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">tp</a> &raquo;</li>
        
          <li><a href="tp.html">tp package</a> &raquo;</li>
        
      <li>tp.data package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/tp.data.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tp-data-package">
<h1>tp.data package<a class="headerlink" href="#tp-data-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tp.data.aniso">
<span id="tp-data-aniso-module"></span><h2>tp.data.aniso module<a class="headerlink" href="#module-tp.data.aniso" title="Permalink to this headline">¶</a></h2>
<p>Functions for resolving anisotropic variables.</p>
<p>Naming convention: number indicates ordinal to be resolved; a lone
number indicates the form [x, y, z] (or [xx, yy, zz, yz, xz, xy] etc.),
while matrix_number indicates a three by three matrix.</p>
<dl class="py function">
<dt id="tp.data.aniso.four">
<code class="sig-prename descclassname">tp.data.aniso.</code><code class="sig-name descname">four</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/aniso.html#four"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.aniso.four" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves fourth-index anisotropy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array-like</em>) – anisotropic variable.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve. Accepts a-c/ x-y, average/ avg. or
normal/ norm. Default: average.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.aniso.matrix_one">
<code class="sig-prename descclassname">tp.data.aniso.</code><code class="sig-name descname">matrix_one</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/aniso.html#matrix_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.aniso.matrix_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves third-index anisotropy for matrix representations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array-like</em>) – anisotropic variable.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve. Accepts a-c/ x-y, average/ avg. or
normal/ norm. Default: average.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.aniso.matrix_three">
<code class="sig-prename descclassname">tp.data.aniso.</code><code class="sig-name descname">matrix_three</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/aniso.html#matrix_three"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.aniso.matrix_three" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves third-index anisotropy for matrix representations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array-like</em>) – anisotropic variable.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve. Accepts a-c/ x-y, average/ avg. or
normal/ norm. Default: average.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.aniso.matrix_two">
<code class="sig-prename descclassname">tp.data.aniso.</code><code class="sig-name descname">matrix_two</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/aniso.html#matrix_two"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.aniso.matrix_two" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves third-index anisotropy for matrix representations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array-like</em>) – anisotropic variable.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve. Accepts a-c/ x-y, average/ avg. or
normal/ norm. Default: average.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.aniso.one">
<code class="sig-prename descclassname">tp.data.aniso.</code><code class="sig-name descname">one</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/aniso.html#one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.aniso.one" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves first-index anisotropy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array-like</em>) – anisotropic variable.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve. Accepts a-c/ x-y, average/ avg. or
normal/ norm. Default: average.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.aniso.three">
<code class="sig-prename descclassname">tp.data.aniso.</code><code class="sig-name descname">three</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/aniso.html#three"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.aniso.three" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves third-index anisotropy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array-like</em>) – anisotropic variable.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve. Accepts a-c/ x-y, average/ avg. or
normal/ norm. Default: average.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.aniso.two">
<code class="sig-prename descclassname">tp.data.aniso.</code><code class="sig-name descname">two</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/aniso.html#two"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.aniso.two" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves second-index anisotropy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array-like</em>) – anisotropic variable.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve. Accepts a-c/ x-y, average/ avg. or
normal/ norm. Default: average.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved variable.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-tp.data.load">
<span id="tp-data-load-module"></span><h2>tp.data.load module<a class="headerlink" href="#module-tp.data.load" title="Permalink to this headline">¶</a></h2>
<p>Data loading tools.</p>
<p>Loads data from codes into a dictionary, with units and array structures
standardised. Also adds a <code class="docutils literal notranslate"><span class="pre">meta</span></code> subdictionary, which contains units
and the data source.</p>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>amset
amset_mesh
boltztrap
phono3py
phonopy_dispersion
phonopy_dos</p>
<dl class="simple">
<dt>get_path:</dt><dd><p>gets high path from phonopy dispersion data.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py function">
<dt id="tp.data.load.amset">
<code class="sig-prename descclassname">tp.data.load.</code><code class="sig-name descname">amset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">quantities</span><span class="o">=</span><span class="default_value">['temperature', 'doping', 'seebeck', 'conductivity', 'electronic_thermal_conductivity']</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/load.html#amset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.load.amset" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads AMSET transport data.</p>
<p>Includes unit conversion and outputs units (see tp.settings).
Swaps temperature and doping indices so temperature is first, for
consistency with other codes, and mobility is formatted as an array,
like scattering_rates is in the mesh.h5 file. Maintains basic
compatibility with amset 0.1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – filepath.</p></li>
<li><p><strong>quantites</strong> (<em>dict</em><em>, </em><em>optional</em>) – values to extract. Default: temperature, doping, seebeck,
conductivity, electronic_thermal_conductivity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>extracted values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.load.amset_mesh">
<code class="sig-prename descclassname">tp.data.load.</code><code class="sig-name descname">amset_mesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">quantities</span><span class="o">=</span><span class="default_value">['temperature', 'doping', 'scattering_rates', 'scattering_labels']</span></em>, <em class="sig-param"><span class="n">spin</span><span class="o">=</span><span class="default_value">'avg'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/load.html#amset_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.load.amset_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads AMSET mesh data.</p>
<p>Includes unit conversion and outputs units (see tp.settings).
Swaps temperature and doping indices so temperature is first, for
consistency with other codes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – filepath.</p></li>
<li><p><strong>quantites</strong> (<em>dict</em><em>, </em><em>optional</em>) – values to extract. Accepts AMSET keys, without spin
channels, which are dealt with in the spin variable.
Default: temperature, doping, scattering_rates,
scattering_labels.</p></li>
<li><p><strong>spin</strong> (<em>str</em><em>, </em><em>optional</em>) – spin. Accepts up, down or avg. If avg and there is only one
spin channel, selects that, else averages both. Default: avg.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>extracted values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.load.boltztrap">
<code class="sig-prename descclassname">tp.data.load.</code><code class="sig-name descname">boltztrap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">quantities</span><span class="o">=</span><span class="default_value">['temperature', 'doping', 'seebeck', 'conductivity', 'electronic_thermal_conductivity']</span></em>, <em class="sig-param"><span class="n">doping</span><span class="o">=</span><span class="default_value">'n'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/load.html#boltztrap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.load.boltztrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads BoltzTraP data from the tp boltztrap.hdf5 file.</p>
<p>Includes unit conversion and outputs units (see tp.settings).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – filepath.</p></li>
<li><p><strong>quantites</strong> (<em>dict</em><em>, </em><em>optional</em>) – values to extract. Accepts boltztrap.hdf5 keys.
Default: temperature, doping, seebeck, conductivity,
electronic_thermal_conductivity.</p></li>
<li><p><strong>doping</strong> (<em>str</em><em>, </em><em>optional</em>) – doping.  Default: n.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>extracted values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.load.get_path">
<code class="sig-prename descclassname">tp.data.load.</code><code class="sig-name descname">get_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">yamldata</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/load.html#get_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.load.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the path from a phonopy yaml.</p>
<p>Works for the old and new phonopy and sumo yaml files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yamldata</strong> (<em>str</em>) – raw phonopy dispersion data (i.e. from yaml.safe_load).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>list</em> – x tick ordinates.</p></li>
<li><p><em>list</em> – x tick labels.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.load.phono3py">
<code class="sig-prename descclassname">tp.data.load.</code><code class="sig-name descname">phono3py</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">quantities</span><span class="o">=</span><span class="default_value">['kappa', 'temperature']</span></em>, <em class="sig-param"><span class="n">write_lifetime</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">write_mfp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">write_occupation</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/load.html#phono3py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.load.phono3py" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads Phono3py data.</p>
<p>Can also calculate lifetimes, mean free paths and occupations, which
can be written to a file.
Includes unit conversions and outputs units for all the data (see
tp.settings). Also corrects mode_kappa for different phono3py
versions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – filepath.</p></li>
<li><p><strong>quantities</strong> (<em>list</em><em>, </em><em>optional</em>) – values to extract. Accepts Phono3py keys, lifetime,
mean_free_path and occupation. Default: kappa, temperature.</p></li>
<li><p><strong>write_lifetime</strong> (<em>bool</em><em>, </em><em>optional</em>) – write lifetimes to a new hdf5 file if in quantites.
Default: False.</p></li>
<li><p><strong>write_mfp</strong> (<em>bool</em><em>, </em><em>optional</em>) – write mean free paths to a new hdf5 file if in quantities.
Default: False.</p></li>
<li><p><strong>write_occupation</strong> (<em>bool</em><em>, </em><em>optional</em>) – write occupations to a new hdf5 file if in quantities.
Default: False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>output data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.load.phonopy_dispersion">
<code class="sig-prename descclassname">tp.data.load.</code><code class="sig-name descname">phonopy_dispersion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">xdata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/load.html#phonopy_dispersion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.load.phonopy_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads phonopy dispersion, and can scale the x values.</p>
<p>Scaling the x values is necessary to plot multiple dispersions on
the same axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – filepath.</p></li>
<li><p><strong>xdata</strong> (<em>dict</em><em>, </em><em>optional</em>) – data for the dispersion to scale this to. Should have the
same path, must have the same number of labels. Not
necessary if using tp.plot.phonons.add_multi. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dispersion data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="tp.data.load.phonopy_dos">
<code class="sig-prename descclassname">tp.data.load.</code><code class="sig-name descname">phonopy_dos</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">poscar</span><span class="o">=</span><span class="default_value">'POSCAR'</span></em>, <em class="sig-param"><span class="n">atoms</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/load.html#phonopy_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.load.phonopy_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads phonopy DoS and collates data per atom and as a total.</p>
<p>By default reads atom names from a POSCAR, but can be overridden to
allow for separation of environments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – path to phonopy projected_dos.dat or similar.</p></li>
<li><p><strong>poscar</strong> (<em>str</em><em>, </em><em>optional</em>) – path to POSCAR. Ignored if atoms specified. Default: POSCAR.</p></li>
<li><p><strong>atoms</strong> (<em>str</em><em> or </em><em>array-like</em><em>, </em><em>optional</em>) – atoms in POSCAR order. Atom names can be repeated, in which
case their contributions are summed. Numbers can indicate
repetition in the manner of a chemical formula, so the
following are all acceptable and equivalent: “Ba 1 Sn 2 O 3”,
“Ba Sn Sn O O O”, “Ba Sn O 3”. Different environments can be
distinguised with different atom names.
Default: read from POSCAR.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>frequency, DoS per atom and total.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="module-tp.data.resolve">
<span id="tp-data-resolve-module"></span><h2>tp.data.resolve module<a class="headerlink" href="#module-tp.data.resolve" title="Permalink to this headline">¶</a></h2>
<p>Resolves quantities by temperature and/ or direction.</p>
<p>Reads specfic named variables. May need to be split by data origin in
future.</p>
<div class="section" id="id1">
<h3>Functions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>resolve:</dt><dd><p>currently for Phono3py, AMSET and BoltzTraP.</p>
</dd>
</dl>
</div></blockquote>
<dl class="py function">
<dt id="tp.data.resolve.resolve">
<code class="sig-prename descclassname">tp.data.resolve.</code><code class="sig-name descname">resolve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">quantities</span></em>, <em class="sig-param"><span class="n">temperature</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">direction</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/resolve.html#resolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.resolve.resolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects temperature and/or direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – data.</p></li>
<li><p><strong>quantities</strong> (<em>array-like</em><em> or </em><em>str</em>) – quantities to resolve</p></li>
<li><p><strong>temperature</strong> (<em>float</em><em>, </em><em>optional</em>) – temperature to select. Default: None.</p></li>
<li><p><strong>direction</strong> (<em>str</em><em>, </em><em>optional</em>) – direction to resolve, accepts x-z/, a-c, average/ avg or
normal/ norm. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>resolved data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="module-tp.data.run">
<span id="tp-data-run-module"></span><h2>tp.data.run module<a class="headerlink" href="#module-tp.data.run" title="Permalink to this headline">¶</a></h2>
<p>Code running tools.</p>
<div class="section" id="id2">
<h3>Functions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>boltztrap</p>
</div></blockquote>
<dl class="py function">
<dt id="tp.data.run.boltztrap">
<code class="sig-prename descclassname">tp.data.run.</code><code class="sig-name descname">boltztrap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmax</span><span class="o">=</span><span class="default_value">1001</span></em>, <em class="sig-param"><span class="n">tstep</span><span class="o">=</span><span class="default_value">50</span></em>, <em class="sig-param"><span class="n">tmin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">doping</span><span class="o">=</span><span class="default_value">array([1e+18, 1.53992653e+18, 2.37137371e+18, 3.65174127e+18, 5.62341325e+18, 8.65964323e+18, 1.33352143e+19, 2.05352503e+19, 3.16227766e+19, 4.86967525e+19, 7.49894209e+19, 1.15478198e+20, 1.77827941e+20, 2.73841963e+20, 4.21696503e+20, 6.49381632e+20, 1e+21])</span></em>, <em class="sig-param"><span class="n">ke_mode</span><span class="o">=</span><span class="default_value">'boltzmann'</span></em>, <em class="sig-param"><span class="n">vasprun</span><span class="o">=</span><span class="default_value">'vasprun.xml'</span></em>, <em class="sig-param"><span class="n">kpoints</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">relaxation_time</span><span class="o">=</span><span class="default_value">1e-14</span></em>, <em class="sig-param"><span class="n">lpfac</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">run</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">analyse</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">output</span><span class="o">=</span><span class="default_value">'boltztrap.hdf5'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/run.html#boltztrap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.run.boltztrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs BoltzTraP from a VASP density of states (DoS).</p>
<p>Runs quicker and more robustly than the pymatgen from_files version,
and outputs an hdf5 file.
Note: BoltzTraP can be a fickle friend, so if you’re getting errors,
it may be worth reinstalling or trying on a different machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tmax</strong> (<em>float</em><em>, </em><em>optional</em>) – maximum temperature in K. Default: 1000.</p></li>
<li><p><strong>tstep</strong> (<em>float</em><em>, </em><em>optional</em>) – temperature step in K. Default: 50.</p></li>
<li><p><strong>tmin</strong> (<em>float</em><em>, </em><em>optional</em>) – minimum temperature in K. This does not reduce how many
temperatures are run in BoltzTraP, only how many are saved
to hdf5. Default: tstep.</p></li>
<li><p><strong>doping</strong> (<em>array-like</em><em>, </em><em>optional</em>) – doping concentrations in cm-1.
Default: np.logspace(18, 21, 17).</p></li>
<li><p><strong>k_mode</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>method for calculating the electronic thermal conductivity.
Options:</p>
<blockquote>
<div><dl class="simple">
<dt>boltzmann (default):</dt><dd><p>standard boltztrap method. Madsen and Singh,
Comput. Phys. Commun. 2006, 175, 67.</p>
</dd>
<dt>wiedemann:</dt><dd><p>Wiedemann-Franz law with constant L = 2.44E-8.
Franz and Wiedemann, Ann. Phys. 1853, 165, 497.</p>
</dd>
<dt>snyder:</dt><dd><p>Wiedemann-Franz law, with L varying with Seebeck.
Kim et al., APL Mat. 2015, 3, 041506.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>vasprun</strong> (<em>str</em><em>, </em><em>optional</em>) – path to vasprun. Default: vasprun.xml.</p></li>
<li><p><strong>kpoints</strong> (<em>str</em><em>, </em><em>optional</em>) – path to KPOINTS file if there are zero-weighted k-points.
Default: KPOINTS.</p></li>
<li><p><strong>relaxation_time</strong> (<em>float</em><em>, </em><em>optional</em>) – charge carrier relaxation time. Default: 1e-14.</p></li>
<li><p><strong>lpfac</strong> (<em>int</em><em>, </em><em>optional</em>) – DoS interpolation factor. Default: 10.</p></li>
<li><p><strong>run</strong> (<em>bool</em><em>, </em><em>optional</em>) – run BoltzTraP. Default: True.</p></li>
<li><p><strong>analyse</strong> (<em>bool</em><em>, </em><em>optional</em>) – analyse BoltzTraP. Default: True.</p></li>
<li><p><strong>output</strong> (<em>str</em><em>, </em><em>optional</em>) – output hdf5 filename. Default: boltztrap.hdf5.</p></li>
<li><p><strong>kwargs</strong> – passed to pymatgen.electronic.structure.boltztrap.BoltztrapRunner.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instead prints to hdf5 (see below).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<blockquote>
<div><dl>
<dt>average_eff_mass<span class="classifier">dict</span></dt><dd><p>the charge carrier effective mass in units of m_e, taking
into account all bands, as opposed to the single parabolic
band model.
Data is a dictionary with an array each for n and p doping,
of shape (temperatures, concentrations, 3, 3).</p>
</dd>
<dt>conductivity<span class="classifier">dict</span></dt><dd><p>electric conductivity in S m-1.
Data is a dictionary with an array each for n and p doping,
of shape (temperatures, concentrations, 3, 3).</p>
</dd>
<dt>doping<span class="classifier">array-like</span></dt><dd><p>carrier concentration in cm-1. Identical to input.</p>
</dd>
<dt>electronic_thermal_conductivity<span class="classifier">dict</span></dt><dd><p>electronic thermal conductivity in W m-1 K-1.
Data is a dictionary with an array each for n and p doping,
of shape (temperatures, concentrations, 3, 3).</p>
</dd>
<dt>fermi_level<span class="classifier">dict</span></dt><dd><p>fermi level at different temperatures in units of eV.
Data is a dictionary with an array each for n and p doping,
of shape (temperatures, concentrations).</p>
</dd>
<dt>power_factor<span class="classifier">dict</span></dt><dd><p>power factor in W m-1 K-2.
Data is a dictionary with an array each for n and p doping,
of shape (temperatures, concentrations, 3, 3).</p>
</dd>
<dt>seebeck<span class="classifier">dict</span></dt><dd><p>Seebeck coefficient in muV K-1.
Data is a dictionary with an array each for n and p doping,
of shape (temperatures, concentrations, 3, 3).</p>
</dd>
<dt>temperature<span class="classifier">numpy array</span></dt><dd><p>temperatures in K.</p>
</dd>
<dt>meta<span class="classifier">dict</span></dt><dd><p>metadata:</p>
<blockquote>
<div><dl class="simple">
<dt>interpolation_factor<span class="classifier">int</span></dt><dd><p>lpfac.</p>
</dd>
<dt>ke_mode<span class="classifier">str</span></dt><dd><p>as input.</p>
</dd>
<dt>relaxation_time<span class="classifier">float</span></dt><dd><p>as input.</p>
</dd>
<dt>soc<span class="classifier">bool</span></dt><dd><p>spin-orbit coupling calculation.</p>
</dd>
<dt>units<span class="classifier">dict</span></dt><dd><p>units of each property above.</p>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
</div>
<div class="section" id="module-tp.data.save">
<span id="tp-data-save-module"></span><h2>tp.data.save module<a class="headerlink" href="#module-tp.data.save" title="Permalink to this headline">¶</a></h2>
<p>Utility to save to hdf5</p>
<dl class="py function">
<dt id="tp.data.save.hdf5">
<code class="sig-prename descclassname">tp.data.save.</code><code class="sig-name descname">hdf5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">output</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tp/data/save.html#hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tp.data.save.hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves to hdf5.</p>
<p>Aims to make saving nested dictionaries easy, works for 3 layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – data to save.</p></li>
<li><p><strong>output</strong> (<em>str</em>) – output filename.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>instead writes to file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-tp.data">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-tp.data" title="Permalink to this headline">¶</a></h2>
<p>Data handling.</p>
<div class="section" id="modules">
<h3>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>aniso</dt><dd><p>resolves data by direction or averages.</p>
</dd>
<dt>resolve</dt><dd><p>resolves named data by direction and/or temperature.</p>
</dd>
<dt>load</dt><dd><p>loads data from specific codes.</p>
</dd>
<dt>run</dt><dd><p>runs specific codes (currently BoltzTraP).</p>
</dd>
<dt>save</dt><dd><p>saves data (currently hdf5).</p>
</dd>
</dl>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tp.plot.html" class="btn btn-neutral float-right" title="tp.plot package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="tp.axes.html" class="btn btn-neutral float-left" title="tp.axes package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Scanlon Materials Theory Group.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>